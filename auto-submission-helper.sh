#!/bin/bash

# æ™ºèƒ½æäº¤åŠ©æ‰‹ - è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰æäº¤å†…å®¹
# Table Column Resizer æ’ä»¶æäº¤åˆ° Obsidian å¸‚åœº

echo "ğŸ¯ Table Column Resizer - Obsidianå¸‚åœºæäº¤åŠ©æ‰‹"
echo "================================================"
echo ""

# æ£€æŸ¥GitHub CLIæ˜¯å¦å®‰è£…
if ! command -v gh &> /dev/null; then
    echo "âš ï¸  GitHub CLI (gh) æœªå®‰è£…ï¼Œéƒ¨åˆ†åŠŸèƒ½æ— æ³•è‡ªåŠ¨åŒ–"
    echo "   å®‰è£…åœ°å€ï¼šhttps://cli.github.com/"
    echo ""
fi

# æ’ä»¶ä¿¡æ¯
PLUGIN_ID="table-column-resizer"
PLUGIN_NAME="Table Column Resizer"
AUTHOR="bubble"
REPO="bubble-wu/obsidian-table-column-resizer"
VERSION="1.0.0"
DESCRIPTION="é€šè¿‡æ‹–æ‹½è°ƒæ•´Obsidianè¡¨æ ¼åˆ—å®½ï¼Œæ”¯æŒé¢„è§ˆæ¨¡å¼"

echo "ğŸ“‹ æ’ä»¶ä¿¡æ¯ï¼š"
echo "   ID: $PLUGIN_ID"
echo "   åç§°: $PLUGIN_NAME"
echo "   ä½œè€…: $AUTHOR"
echo "   ç‰ˆæœ¬: $VERSION"
echo "   ä»“åº“: $REPO"
echo ""

# ç”Ÿæˆæäº¤ç”¨çš„JSONå†…å®¹
echo "ğŸ“„ 1. ç¤¾åŒºæ’ä»¶JSONæ¡ç›®ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
cat << EOF
{
  "id": "$PLUGIN_ID",
  "name": "$PLUGIN_NAME",
  "author": "$AUTHOR",
  "description": "$DESCRIPTION",
  "repo": "$REPO",
  "branch": "main",
  "version": "$VERSION"
}
EOF
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# ç”ŸæˆPull Requestæ ‡é¢˜å’Œæè¿°
echo "ğŸ“¤ 2. Pull Request å†…å®¹ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "æ ‡é¢˜ï¼šAdd $PLUGIN_NAME plugin"
echo ""
echo "æè¿°å†…å®¹ï¼š"
cat << 'EOF'
## Table Column Resizer

ä¸€ä¸ªå…è®¸ç”¨æˆ·é€šè¿‡æ‹–æ‹½è°ƒæ•´è¡¨æ ¼åˆ—å®½çš„Obsidianæ’ä»¶ã€‚

### âœ¨ åŠŸèƒ½ç‰¹ç‚¹
- âœ… æ‹–æ‹½è°ƒæ•´åˆ—å®½ - ç›´è§‚çš„é¼ æ ‡æ‹–æ‹½æ“ä½œ
- âœ… é¢„è§ˆæ¨¡å¼æ”¯æŒ - åœ¨é¢„è§ˆæ¨¡å¼ä¸‹å®Œç¾å·¥ä½œ
- âœ… æŒä¹…åŒ–è®¾ç½® - åˆ—å®½è®¾ç½®è‡ªåŠ¨ä¿å­˜
- âœ… è‡ªå®šä¹‰é™åˆ¶ - å¯è®¾ç½®æœ€å°/æœ€å¤§åˆ—å®½
- âœ… è§†è§‰åé¦ˆ - æ¸…æ™°çš„æ‚¬åœå’Œæ‹–æ‹½æŒ‡ç¤ºå™¨
- âœ… ä¸»é¢˜å…¼å®¹ - æ”¯æŒæ‰€æœ‰ Obsidian ä¸»é¢˜
- âœ… å“åº”å¼è®¾è®¡ - é€‚é…ä¸åŒå±å¹•å°ºå¯¸

### ğŸ“¸ æˆªå›¾æ¼”ç¤º
æ’ä»¶READMEä¸­åŒ…å«å®Œæ•´çš„æˆªå›¾æ¼”ç¤ºï¼Œå±•ç¤ºï¼š
1. é»˜è®¤è¡¨æ ¼çŠ¶æ€
2. æ‚¬åœæ•ˆæœå’Œè°ƒæ•´æ‰‹æŸ„
3. è‡ªå®šä¹‰åˆ—å®½åçš„æ•ˆæœ

### ğŸ”§ æŠ€æœ¯è¯¦æƒ…
- ä½¿ç”¨TypeScriptå¼€å‘ï¼Œç±»å‹å®‰å…¨
- éµå¾ªObsidianæ’ä»¶å¼€å‘è§„èŒƒ
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ£€æŸ¥
- ä¼˜åŒ–çš„æ€§èƒ½è¡¨ç°
- æ”¯æŒå¤šå¹³å°ï¼ˆæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ï¼‰

### ğŸ“Š æµ‹è¯•çŠ¶æ€
- âœ… å·²åœ¨Obsidian v1.0.0+æµ‹è¯•é€šè¿‡
- âœ… å¤šä¸»é¢˜å…¼å®¹æ€§éªŒè¯
- âœ… æ€§èƒ½æµ‹è¯•å®Œæˆ
- âœ… è·¨å¹³å°æµ‹è¯•é€šè¿‡

### ğŸ“ æ”¯æŒä¿¡æ¯
- ä»“åº“ï¼šhttps://github.com/bubble-wu/obsidian-table-column-resizer
- ç‰ˆæœ¬ï¼šv1.0.0
- ä½œè€…ï¼šbubble
- é‚®ç®±ï¼šwzihua@hotmail.com
- é—®é¢˜åé¦ˆï¼šGitHub Issues

### ğŸ™ è‡´è°¢
æ„Ÿè°¢Obsidianå›¢é˜Ÿå’Œç¤¾åŒºçš„è´¡çŒ®ä¸æ”¯æŒï¼

---

**Ready for review!** ğŸš€
EOF
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# ç”Ÿæˆæ“ä½œæ­¥éª¤
echo "ğŸ¯ 3. æ‰‹åŠ¨æ“ä½œæ­¥éª¤ï¼š"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ç¬¬ä¸€æ­¥ï¼šForkå®˜æ–¹ä»“åº“"
echo "   1. è®¿é—® https://github.com/obsidianmd/obsidian-releases"
echo "   2. ç‚¹å‡»å³ä¸Šè§’çš„ 'Fork' æŒ‰é’®"
echo "   3. é€‰æ‹©ä½ çš„è´¦æˆ·ä½œä¸ºç›®æ ‡"
echo ""
echo "ç¬¬äºŒæ­¥ï¼šç¼–è¾‘é…ç½®æ–‡ä»¶"
echo "   1. åœ¨ä½ çš„forkä¸­æ‰¾åˆ° community-plugins.json æ–‡ä»¶"
echo "   2. åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ä¸Šé¢çš„JSONå†…å®¹"
echo "   3. ç¡®ä¿æ ¼å¼æ­£ç¡®ï¼ˆæ³¨æ„é€—å·ï¼‰"
echo ""
echo "ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºPull Request"
echo "   1. ç‚¹å‡» 'Contribute' â†’ 'Open pull request'"
echo "   2. ä½¿ç”¨ä¸Šé¢çš„æ ‡é¢˜å’Œæè¿°"
echo "   3. æäº¤PRå¹¶ç­‰å¾…å®¡æ ¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

# å¯é€‰ï¼šGitHub CLIè‡ªåŠ¨åŒ–ï¼ˆå¦‚æœå·²å®‰è£…ï¼‰
if command -v gh &> /dev/null; then
    echo "ğŸ¤– 4. GitHub CLIè‡ªåŠ¨åŒ–é€‰é¡¹ï¼ˆå¯é€‰ï¼‰ï¼š"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
    echo "# Forkå®˜æ–¹ä»“åº“"
    echo "gh repo fork obsidianmd/obsidian-releases --clone=false"
    echo ""
    echo "# å…‹éš†ä½ çš„fork"
    echo "gh repo clone bubble-wu/obsidian-releases"
    echo ""
    echo "# åˆ›å»ºæ–°åˆ†æ”¯"
    echo "cd obsidian-releases"
    echo "gh repo fork --remote-name upstream"
    echo "git checkout -b add-table-column-resizer"
    echo ""
    echo "# ç¼–è¾‘æ–‡ä»¶ååˆ›å»ºPR"
    echo "gh pr create --title 'Add Table Column Resizer plugin' --body '$(cat << 'EOF'
Add Table Column Resizer plugin

ä¸€ä¸ªå…è®¸ç”¨æˆ·é€šè¿‡æ‹–æ‹½è°ƒæ•´è¡¨æ ¼åˆ—å®½çš„Obsidianæ’ä»¶ã€‚
åŠŸèƒ½åŒ…æ‹¬æ‹–æ‹½è°ƒæ•´ã€é¢„è§ˆæ¨¡å¼æ”¯æŒã€æŒä¹…åŒ–è®¾ç½®ç­‰ã€‚
EOF
)'"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo ""
fi

echo "ğŸ‰ å‡†å¤‡å®Œæˆï¼ç¥ä½ æäº¤é¡ºåˆ©ï¼"
echo ""
echo "ğŸ’¡ æç¤ºï¼š"
echo "   - å®¡æ ¸é€šå¸¸éœ€è¦å‡ å¤©åˆ°å‡ å‘¨æ—¶é—´"
echo "   - ä¿æŒè€å¿ƒï¼Œæœ‰é—®é¢˜åŠæ—¶æ²Ÿé€š"
echo "   - å‡†å¤‡å¥½æ ¹æ®åé¦ˆè¿›è¡Œä¿®æ”¹"
echo ""
echo "ğŸ“§ æ”¯æŒï¼šwzihua@hotmail.com"